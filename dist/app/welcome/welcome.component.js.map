{"version":3,"file":"welcome.component.js","sourceRoot":"","sources":["../../../../../../home/markus/code/emuDB-manager/tmp/broccoli_type_script_compiler-input_base_path-J2RFjThZ.tmp/0/src/app/welcome/welcome.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAgC,eAAe,CAAC,CAAA;AAChD,uBAAqB,iBAAiB,CAAC,CAAA;AACvC,qCAAiC,yBAAyB,CAAC,CAAA;AAS3D;IAQC,0BAAoB,kBAAqC,EACrC,MAAa;QADb,uBAAkB,GAAlB,kBAAkB,CAAmB;QACrC,WAAM,GAAN,MAAM,CAAO;QARzB,gBAAW,GAAW,KAAK,CAAC;QAG5B,iBAAY,GAAW,KAAK,CAAC;QAC7B,wBAAmB,GAAU,EAAE,CAAC;IAKxC,CAAC;IAED,mCAAQ,GAAR;IACA,CAAC;IAEO,qCAAU,GAAlB;QAAA,iBAsBC;QArBA,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAE1B,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACd,MAAM,CAAC;QACR,CAAC;QAED,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;YACpF,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;QAC7C,CAAC,EAAE,UAAA,KAAK;YACP,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,WAAW,CAAC,CAAC,CAAC;gBAChC,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,KAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC,OAAO,CAAC;YAC1C,CAAC;YAED,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC;QACjB,CAAC,EAAE;YACF,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC;QACjB,CAAC,CAAC,CAAC;IACJ,CAAC;IA3CF;QAAC,gBAAS,CAAC;YACV,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,sBAAsB;YAChC,WAAW,EAAE,wBAAwB;YACrC,SAAS,EAAE,CAAC,uBAAuB,CAAC;SACpC,CAAC;;wBAAA;IAuCF,uBAAC;AAAD,CAAC,AAtCD,IAsCC;AAtCY,wBAAgB,mBAsC5B,CAAA","sourcesContent":["import {Component, OnInit} from \"@angular/core\";\nimport {Router} from \"@angular/router\";\nimport {ProjectDataService} from \"../project-data.service\";\nimport {Subscription} from \"rxjs/Rx\";\n\n@Component({\n\tmoduleId: module.id,\n\tselector: 'emudbmanager-welcome',\n\ttemplateUrl: 'welcome.component.html',\n\tstyleUrls: ['welcome.component.css']\n})\nexport class WelcomeComponent implements OnInit {\n\tprivate loginFailed:boolean = false;\n\tprivate password:string;\n\tprivate sub:Subscription;\n\tprivate unknownError:boolean = false;\n\tprivate unknownErrorMessage:string = '';\n\tprivate username:string;\n\n\tconstructor(private projectDataService:ProjectDataService,\n\t            private router:Router) {\n\t}\n\n\tngOnInit() {\n\t}\n\n\tprivate checkLogin() {\n\t\tthis.loginFailed = false;\n\t\tthis.unknownError = false;\n\n\t\tif (this.sub) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.sub = this.projectDataService.login(this.username, this.password).subscribe(next => {\n\t\t\tthis.router.navigate(['/project/overview']);\n\t\t}, error => {\n\t\t\tif (error.data === 'BAD_LOGIN') {\n\t\t\t\tthis.loginFailed = true;\n\t\t\t} else {\n\t\t\t\tthis.unknownError = true;\n\t\t\t\tthis.unknownErrorMessage = error.message;\n\t\t\t}\n\n\t\t\tthis.sub = null;\n\t\t}, () => {\n\t\t\tthis.sub = null;\n\t\t});\n\t}\n}\n"]}