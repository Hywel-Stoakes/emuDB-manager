{"version":3,"file":"upload-form.component.js","sourceRoot":"","sources":["../../../../../../../home/markus/code/emuDB-manager/tmp/broccoli_type_script_compiler-input_base_path-7gBrH8uH.tmp/0/src/app/project/upload-form/upload-form.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAgC,eAAe,CAAC,CAAA;AAChD,6BAAgC,2BAA2B,CAAC,CAAA;AAC5D,qCAAiC,4BAA4B,CAAC,CAAA;AAS9D;IASC,6BAAoB,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QAJ1D,YAAO,GAAiB;YACvB,GAAG,EAAE,EAAE;SACP,CAAC;QAGD,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,aAAM,CAAC,EAAE,oBAAoB,EAAE,KAAK,EAAE,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,CAAC;QAC1D,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC;IAED,0CAAY,GAAZ,UAAa,IAAI;QAAjB,iBAUC;QATA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACb,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;QAC7C,CAAC,CAAC,CAAC;QACH,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;QACzB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACV,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACxB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC5B,CAAC;IACF,CAAC;IAlCF;QAAC,gBAAS,CAAC;YACV,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,0BAA0B;YACpC,WAAW,EAAE,4BAA4B;YACzC,SAAS,EAAE,CAAC,2BAA2B,CAAC;YACxC,UAAU,EAAE,CAAC,gCAAiB,CAAC;SAC/B,CAAC;;2BAAA;IA8BF,0BAAC;AAAD,CAAC,AA7BD,IA6BC;AA7BY,2BAAmB,sBA6B/B,CAAA","sourcesContent":["import {Component, NgZone} from \"@angular/core\";\nimport {UPLOAD_DIRECTIVES} from \"ng2-uploader/ng2-uploader\";\nimport {ProjectDataService} from \"../../project-data.service\";\n\n@Component({\n\tmoduleId: module.id,\n\tselector: 'emudbmanager-upload-form',\n\ttemplateUrl: 'upload-form.component.html',\n\tstyleUrls: ['upload-form.component.css'],\n\tdirectives: [UPLOAD_DIRECTIVES]\n})\nexport class UploadFormComponent {\n\tuploadFile: any;\n\tuploadProgress: number;\n\tuploadResponse: Object;\n\tzone: NgZone;\n\toptions: {url:string} = {\n\t\turl: ''\n\t};\n\n\tconstructor(private projectDataService: ProjectDataService) {\n\t\tthis.uploadProgress = 0;\n\t\tthis.uploadResponse = {};\n\t\tthis.zone = new NgZone({ enableLongStackTrace: false });\n\t\tthis.options.url = this.projectDataService.getUploadURL();\n\t\tconsole.debug(this.options.url);\n\t}\n\n\thandleUpload(data): void {\n\t\tthis.uploadFile = data;\n\t\tthis.zone.run(() => {\n\t\t\tthis.uploadProgress = data.progress.percent;\n\t\t});\n\t\tlet resp = data.response;\n\t\tif (resp) {\n\t\t\tresp = JSON.parse(resp);\n\t\t\tthis.uploadResponse = resp;\n\t\t}\n\t}\n\n}\n"]}